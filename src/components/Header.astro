---
import logo from "../images/logo-horizontal.webp";
---

<link
  rel="stylesheet"
  href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css"
  integrity="sha512-xh6O/CkQoPOWDdYTDqeRdPCVd1SpvCA9XXcUnZS2FmJNp1coAFzvtCN9BmamE+4aHK8yyUHUSCcJHgXloTyT2A=="
  crossorigin="anonymous"
  referrerPolicy="no-referrer"
/>

<nav
  id="header"
  class="sticky top-0 left-0 right-0 z-40 flex flex-wrap items-center justify-evenly gap-4 bg-white p-2 md:p-8 transition-all duration-300 ease-in-out"
>
  <a href="/">
    <img
      class="h-16 md:h-20 transition delay-150 hover:opacity-60"
      src={logo.src}
      alt="Logo"
    />
  </a>
  <div class="flex justify-center gap-2 text-lg md:gap-5 md:text-xl">
    <a class="border-b-2 border-b-transparent hover:border-b-teal-900" href="/sobre">sobre</a>
    <a class="border-b-2 border-b-transparent hover:border-b-teal-900" href="/produtos">produtos</a>
    <a class="border-b-2 border-b-transparent hover:border-b-teal-900" href="/pd">p&d</a>
    <a class="border-b-2 border-b-transparent hover:border-b-teal-900" href="/contato">contato</a>
  </div>

  <div class="mt-2 flex gap-2 md:mt-0">
    <a href="https://www.instagram.com/micro.forge/" target="_blank">
      <i class="fa-brands fa-instagram p-1 text-2xl text-teal-900 hover:opacity-80"></i>
    </a>
    <a href="https://www.linkedin.com/company/microforge/" target="_blank">
      <i class="fa-brands fa-linkedin p-1 text-2xl text-teal-900 hover:opacity-80"></i>
    </a>
    <a href="mailto:comercial@micro-forge.com" target="_blank">
      <i class="fa-solid fa-envelope p-1 text-2xl text-teal-900 hover:opacity-80"></i>
    </a>
  </div>
</nav>

<script>
  // Hide and Show Desktop Header //
  var prevScrollpos = window.pageYOffset;
  window.onscroll = function () {
    var currentScrollPos = window.pageYOffset;
    if (currentScrollPos === 0) {
      document.getElementById("header").style.opacity = "1";
    } else if (prevScrollpos > currentScrollPos) {
      document.getElementById("header").style.opacity = "1";
    } else {
      document.getElementById("header").style.opacity = "0";
    }
    prevScrollpos = currentScrollPos;
  };
</script>

<script>
  const navLinks = document.querySelectorAll("nav a");

  navLinks.forEach((link) => {
    link.classList.remove("text-teal-900", "border-b-teal-900");

    // Remove the leading slash in pathname
    const currentPath = window.location.pathname.slice(1);
    const hrefArray = link.href.split("/");
    const thisPath = hrefArray[hrefArray.length - 1];

    if (currentPath === thisPath && currentPath !== "") {
      link.classList.add("text-teal-900", "border-b-2", "border-b-teal-900");
    }
  });
</script>
